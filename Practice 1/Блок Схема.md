```mermaid
flowchart TD
    A(start) --> B(input_n)
    B --> C{n_valid}
    C -- no --> D(end)
    C -- yes --> E(allocate_array)
    E --> F(fill_array)
    F --> G(start_seq)
    G --> H(calc_seq_avg)
    H --> I(end_seq)
    I --> J(start_par)
    J --> K(calc_par_avg)
    K --> L(end_par)
    L --> M(print_results)
    M --> N(free_memory)
    N --> O(end)
