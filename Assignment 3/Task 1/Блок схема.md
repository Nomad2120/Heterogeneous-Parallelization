```mermaid
flowchart TD
    A([старт]) --> B[задать N k block]
    B --> C[создать массив h и заполнить]
    C --> D[выделить память gpu: d]
    D --> E[скопировать h -> d]
    E --> F[создать cudaEvent]
    F --> G[запуск mul_global + замер]
    G --> H[сброс данных: снова h -> d]
    H --> I[запуск mul_shared + замер]
    I --> J[вывести времена]
    J --> K[освободить память]
    K --> L([конец])

    subgraph GLOB["GPU: global"]
        G1[tid = global id] --> G2{tid < N}
        G2 -- да --> G3[a tid = a tid * k]
        G2 -- нет --> G4[ничего]
    end

    subgraph SHRD["GPU: shared"]
        S1[tid = global id] --> S2{tid < N}
        S2 -- да --> S3[sh local = a tid]
        S2 -- нет --> S4[ничего]
        S3 --> S5[barrier]
        S5 --> S6[sh local = sh local * k]
        S6 --> S7[barrier]
        S7 --> S8[a tid = sh local]
    end
