```mermaid 
flowchart TD
    A([старт]) --> B{N > 0}
    B -- нет --> Z1[вывод N неверный] --> Z2([конец])
    B -- да --> C[задать N]
    C --> D[создать h_a h_b и заполнить]
    D --> E[выделить память gpu a b c]
    E --> F{cuda ok}
    F -- нет --> X1[вывод ошибка cuda] --> X2([конец])
    F -- да --> G[скопировать a b на gpu]
    G --> H{cuda ok}
    H -- нет --> X1
    H -- да --> I[список block sizes 128 256 512]
    I --> J{есть следующий block}
    J -- нет --> K[вывести все времена] --> L[освободить память] --> M([конец])
    J -- да --> N[посчитать grid]
    N --> O[запуск add и замер]
    O --> P{kernel ok}
    P -- нет --> X1
    P -- да --> Q[сохранить время]
    Q --> J

    subgraph ADD["GPU add"]
        A1[tid = global id] --> A2{tid < N}
        A2 -- да --> A3[c tid = a tid + b tid]
        A2 -- нет --> A4[ничего]
    end
